<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>La Latina</title>

<style>
body {
  margin: 0;
  font-family: Arial, sans-serif;
  background: linear-gradient(180deg,#020617,#0f172a);
  color: #fff;
}

.app {
  max-width: 420px;
  margin: auto;
  padding: 20px;
}

.card {
  background: #020617;
  border-radius: 16px;
  padding: 20px;
  margin-top: 30px;
  box-shadow: 0 0 20px rgba(0,0,0,.5);
}

h1,h2,p {
  text-align: center;
}

.table {
  margin-top: 20px;
}

.table-header {
  display: flex;
  background: #6b21a8;
  border-radius: 12px;
  padding: 12px;
  font-weight: bold;
}

.table-row {
  display: flex;
  background: #0f766e;
  margin-top: 8px;
  border-radius: 12px;
  padding: 12px;
}

.col {
  flex: 1;
  text-align: center;
}

button.option {
  width: 100%;
  padding: 14px;
  margin-top: 12px;
  border: none;
  border-radius: 10px;
  background: #1e293b;
  color: #fff;
  font-size: 16px;
}

button.option:hover {
  background: #2563eb;
}

button.primary {
  width: 100%;
  padding: 14px;
  margin-top: 20px;
  border: none;
  border-radius: 10px;
  background: #2563eb;
  color: #fff;
  font-size: 16px;
}

.correct { color: #22c55e; font-weight: bold; text-align:center; }
.wrong { color: #ef4444; text-align:center; }

.translation {
  margin-top: 12px;
  text-align:center;
}
</style>
</head>

<body>
<div class="app" id="app"></div>

<script>
/* =====================
   BANCO DE PERGUNTAS
===================== */
function gerarBancoFase1() {
  const base = [
    { s:"I", v:"am", c:"happy", t:"Eu estou feliz" },
    { s:"You", v:"are", c:"ready", t:"Você está pronto" },
    { s:"He", v:"is", c:"here", t:"Ele está aqui" },
    { s:"She", v:"is", c:"very good", t:"Ela está muito bem" }
  ];
  let banco=[];
  for(let i=0;i<10000;i++){
    let n=base[i%base.length];
    banco.push({
      pergunta:`${n.s} ___ ${n.c}`,
      correta:n.v,
      frase:`${n.s} ${n.v} ${n.c}`,
      traducao:n.t,
      opcoes:shuffle([n.v,"am","are","is"])
    });
  }
  return banco;
}

function gerarBancoFase2() {
  const base = [
    { s:"I", v:"am not", c:"happy", t:"Eu não estou feliz" },
    { s:"You", v:"are not", c:"ready", t:"Você não está pronto" },
    { s:"He", v:"is not", c:"here", t:"Ele não está aqui" }
  ];
  let banco=[];
  for(let i=0;i<10000;i++){
    let n=base[i%base.length];
    banco.push({
      pergunta:`${n.s} ___ ${n.c}`,
      correta:n.v,
      frase:`${n.s} ${n.v} ${n.c}`,
      traducao:n.t,
      opcoes:shuffle([n.v,"am not","are not","is not"])
    });
  }
  return banco;
}

function shuffle(a){ return a.sort(()=>Math.random()-0.5); }

const fases = [
  { nome:"Fase 1", banco:gerarBancoFase1() },
  { nome:"Fase 2", banco:gerarBancoFase2() }
];

let faseAtual=0, acertos=0, erros=0, perguntaAtual=null;

function falar(t){
  let u=new SpeechSynthesisUtterance(t);
  u.lang="en-US";
  speechSynthesis.speak(u);
}

/* =====================
   TELAS
===================== */
function telaExplicativaFase1(){
  app.innerHTML=`
  <div class="card">
    <h2>Verbo To Be</h2>

    <div class="table">
      <div class="table-header">
        <div class="col">Verb To Be</div>
        <div class="col">Translate</div>
      </div>

      <div class="table-row"><div class="col">am</div><div class="col">Eu sou / Estou</div></div>
      <div class="table-row"><div class="col">are</div><div class="col">Você é / Está</div></div>
      <div class="table-row"><div class="col">is</div><div class="col">Ele é / Está</div></div>
      <div class="table-row"><div class="col">is</div><div class="col">Ela é / Está</div></div>
      <div class="table-row"><div class="col">is</div><div class="col">Isso é / Está</div></div>
      <div class="table-row"><div class="col">are</div><div class="col">Nós somos / Estamos</div></div>
      <div class="table-row"><div class="col">are</div><div class="col">Vocês são / Estão</div></div>
      <div class="table-row"><div class="col">are</div><div class="col">Eles / Elas são / Estão</div></div>
    </div>

    <button class="primary" onclick="novaPergunta()">Começar</button>
  </div>`;
}

function novaPergunta(){
  erros=0;
  perguntaAtual=fases[faseAtual].banco[Math.floor(Math.random()*fases[faseAtual].banco.length)];
  renderPergunta();
}

function renderPergunta(){
  app.innerHTML=`
  <div class="card">
    <h2>${perguntaAtual.pergunta}</h2>
    ${perguntaAtual.opcoes.map(o=>`
      <button class="option" onclick="responder('${o}')">${o}</button>
    `).join("")}
    <p>Acertos: ${acertos}/300</p>
    <div id="fb"></div>
  </div>`;
}

function responder(o){
  if(o===perguntaAtual.correta){
    acertos++;
    falar(perguntaAtual.frase);
    app.innerHTML=`
    <div class="card">
      <h2 class="correct">✔ Correto!</h2>
      <div class="translation">
        <strong>${perguntaAtual.frase}</strong><br>
        ${perguntaAtual.traducao}
      </div>
      <button class="primary" onclick="proximo()">Próxima</button>
    </div>`;
  } else {
    erros++;
    document.getElementById("fb").innerHTML=
      `<p class="wrong">Tente novamente (${erros}/3)</p>`;
  }
}

function proximo(){
  if(acertos>=300){
    faseAtual++;
    acertos=0;
    if(faseAtual===1){
      telaInicialFase2();
    }
  } else novaPergunta();
}

function telaInicialFase2(){
  app.innerHTML=`
  <div class="card">
    <h2>Forma Negativa</h2>
    <p>Agora você vai aprender a negar frases com o verbo to be.</p>
    <button class="primary" onclick="novaPergunta()">Começar</button>
  </div>`;
}

telaExplicativaFase1();
</script>
</body>
</html>
