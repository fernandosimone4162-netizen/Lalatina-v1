<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>LALATINA</title>

<style>
body{
  margin:0;
  font-family:Arial, sans-serif;
  background:linear-gradient(180deg,#6d28d9,#4c1d95);
  color:#fff;
}
.app{max-width:420px;margin:auto;padding:20px;}
.card{
  background:#1e1b4b;
  border-radius:18px;
  padding:20px;
  margin-top:30px;
  box-shadow:0 0 30px rgba(0,0,0,.6);
}
button{
  width:100%;
  padding:14px;
  margin-top:14px;
  border:none;
  border-radius:12px;
  background:#8b5cf6;
  color:#fff;
  font-size:16px;
}
input{
  width:100%;
  padding:14px;
  margin-top:14px;
  border-radius:12px;
  border:none;
  font-size:16px;
}
.menu{
  position:fixed;
  top:10px;
  left:10px;
  font-size:24px;
  cursor:pointer;
}
.menuBox{
  position:fixed;
  top:50px;
  left:10px;
  background:#312e81;
  padding:14px;
  border-radius:12px;
  display:none;
}
.correct{color:#22c55e;font-weight:bold;}
.wrong{color:#ef4444;}
</style>
</head>

<body>
<div class="menu" onclick="toggleMenu()">☰</div>
<div class="menuBox" id="menuBox">
  <div onclick="mostrarToBe()">Verbo TO BE</div>
</div>

<div class="app" id="app"></div>

<script>
let email="";
let perguntas=[];
let indice=0;
let dificuldade=1;
let tentativas=0;
let feitas=0;
let acertos=0;
let provaTentativas=0;

function toggleMenu(){
  const m=document.getElementById("menuBox");
  m.style.display=m.style.display==="block"?"none":"block";
}

function mostrarToBe(){
  app.innerHTML=`
  <div class="card">
    <h2>Verbo TO BE</h2>
    <p><strong>TO BE</strong> significa <b>ser</b> ou <b>estar</b>.</p>
    <p>I am = eu sou / estou<br>
       You are = você é / está<br>
       He is / She is = ele / ela é ou está</p>
    <p>Negativa: add <b>not</b><br>
       I am not happy</p>
    <button onclick="inicio()">Voltar</button>
  </div>`;
}

function login(){
  app.innerHTML=`
  <div class="card">
    <h2>LALATINA</h2>
    <input placeholder="Digite seu e-mail" id="email">
    <button onclick="entrar()">Entrar</button>
  </div>`;
}

function entrar(){
  email=document.getElementById("email").value;
  if(!email.includes("@")) return;
  inicio();
}

function inicio(){
  app.innerHTML=`
  <div class="card">
    <h2>Olá, bem-vindo à Latina</h2>
    <p>Desde que haja empenho, você terá uma boa experiência.</p>
    <button onclick="iniciarFase()">Começar</button>
  </div>`;
}

function gerarBanco(){
  const base=[
    ["Good morning","Bom dia"],
    ["I am happy","Eu estou feliz"],
    ["You are here","Você está aqui"],
    ["She is ready","Ela está pronta"],
    ["They are tired","Eles estão cansados"]
  ];
  for(let i=0;i<200;i++){
    let b=base[i%base.length];
    perguntas.push({
      en:b[0],
      pt:b[1]
    });
  }
}

function falar(t){
  const u=new SpeechSynthesisUtterance(t);
  u.lang="en-US";
  speechSynthesis.speak(u);
}

function iniciarFase(){
  gerarBanco();
  indice=0;
  feitas=0;
  acertos=0;
  pergunta();
}

function pergunta(){
  tentativas=0;
  let p=perguntas[indice];
  falar(p.en);
  app.innerHTML=`
  <div class="card">
    <h2>${p.en}</h2>
    <input id="resp" placeholder="Traduza para o português">
    <button onclick="verificar()">Confirmar</button>
    <div id="fb"></div>
    <p>${feitas}/100</p>
  </div>`;
}

function verificar(){
  let r=document.getElementById("resp").value.toLowerCase();
  let c=perguntas[indice].pt.toLowerCase();
  tentativas++;
  if(r===c){
    acertos++;
    feitas++;
    indice++;
    pergunta();
  }else{
    if(tentativas===4){
      fb.innerHTML="<p>Dica: é uma tradução simples</p>";
    }
    if(tentativas===5){
      feitas++;
      indice++;
      pergunta();
    }else{
      fb.innerHTML="<p class='wrong'>Tente novamente</p>";
    }
  }
  if(feitas>=100){
    prova();
  }
}

function prova(){
  provaTentativas++;
  let score=0;
  for(let i=0;i<30;i++){
    if(Math.random()>0.5) score++;
  }
  if(score>=20){
    app.innerHTML=`
    <div class="card">
      <h2 class="correct">Aprovado!</h2>
      <p>Você pode seguir para a Fase 2</p>
    </div>`;
  }else{
    if(provaTentativas<3){
      iniciarFase();
    }else{
      indice=20;
      iniciarFase();
    }
  }
}

login();
</script>
</body>
</html>
